<div class="elektra-nx-account-membership-edit" *ngIf="membership$ | async as membership">
  <div class="psa">
    <h3>Viktig!</h3>
    <p>For at godkjenning skal skje fortest mulig, er det viktig at dataen du sender inn her er så nøyaktig som mulig.</p>
  </div>

  <!-- <ng-container [ngSwitch]="state"> -->
    <!-- <div class="error" *ngSwitchCase="'error'">
      <p>{{ (error$ | async)?.message }}</p>
    </div> -->
    <!-- <div class="loading" *ngSwitchCase="'loading'">
      <elektra-nx-spinner></elektra-nx-spinner>
    </div> -->
    <form [formGroup]="formGroup" (ngSubmit)="submit($event)">
      <h4 class="form-section-header">Person</h4>
      <div class="address">
        <mat-form-field appearance="fill">
          <mat-label>Adresse</mat-label>
          <input type="text" matInput autocomplete="street-address" formControlName="address">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Postnr.</mat-label>
          <input type="text" matInput autocomplete="postal-code" formControlName="postal_code">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Telefon</mat-label>
          <input type="text" matInput autocomplete="tel-national" formControlName="phone">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Kjønn</mat-label>
          <input type="text" matInput autocomplete="sex" [matAutocomplete]="auto" formControlName="gender">
          <mat-hint>Valgfri</mat-hint>
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option value="Mann">Mann</mat-option>
            <mat-option value="Dame">Dame</mat-option>
            <mat-option value="Annet">Annet</mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-divider></mat-divider>
      </div>
      <h4 class="form-section-header">Skole</h4>
      <mat-form-field appearance="fill">
        <mat-label>Semester for opptak</mat-label>
        <mat-select formControlName="memberyear">
          <mat-option>-- none --</mat-option>
          <mat-optgroup *ngFor="let group of memberYears"
            [label]="group.year"
          >
            <mat-option *ngFor="let semester of group.semesters" [value]="semester.value">{{ semester.viewValue }}</mat-option>
          </mat-optgroup>
        </mat-select>
        <mat-hint>Viktig!</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Semester for skolestart</mat-label>
        <mat-select formControlName="immatriculation">
          <mat-option>-- none --</mat-option>
          <mat-optgroup *ngFor="let group of immatriculationYears"
            [label]="group.year"
          >
            <mat-option *ngFor="let semester of group.semesters" [value]="semester.value">{{ semester.viewValue }}</mat-option>
          </mat-optgroup>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Semester for fullført grad</mat-label>
        <mat-select formControlName="graduation">
          <mat-option>-- none --</mat-option>
          <mat-optgroup *ngFor="let group of graduationYears"
            [label]="group.year"
          >
            <mat-option *ngFor="let semester of group.semesters" [value]="semester.value">{{ semester.viewValue }}</mat-option>
          </mat-optgroup>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Spesialisering</mat-label>
        <mat-select formControlName="specialisation">
          <mat-option>-- None --</mat-option>
          <mat-option *ngFor="let s of specialisations" [value]="s">{{ s }}</mat-option>
        </mat-select>
      </mat-form-field>
      <button [disabled]="!valid" mat-raised-button color="primary">Lagre</button>
    </form>
  <!-- </ng-container> -->
</div>
